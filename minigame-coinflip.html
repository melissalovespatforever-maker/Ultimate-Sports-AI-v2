<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI BOT RACING ü§ñ</title>

<style>
body{
  margin:0;
  background:radial-gradient(circle at top,#020917,#000);
  font-family:Arial, sans-serif;
  color:#eaffff;
  text-align:center;
}
h2{
  color:#00ffff;
  text-shadow:0 0 16px #00ffffaa;
}
canvas{
  display:block;
  margin:12px auto;
  background:linear-gradient(#050d22,#020611);
  border-radius:20px;
  box-shadow:0 0 40px #00ffff55;
}
.panel{
  width:420px;
  margin:auto;
  background:#07142e;
  padding:12px;
  border-radius:14px;
}
select,input,button{
  width:95%;
  padding:10px;
  margin-top:6px;
  border-radius:8px;
  border:none;
}
button{
  background:linear-gradient(135deg,#00ffff,#00bcd4);
  font-weight:bold;
}
#announcer{
  margin-top:10px;
  min-height:24px;
  color:#00ffff;
  text-shadow:0 0 12px #00ffffaa;
}
</style>
</head>

<body>

<h2>ü§ñ AI BOT RACING ARENA</h2>

<canvas id="race" width="560" height="380"></canvas>

<div class="panel">
üí∞ Balance: $<span id="bal">1000</span><br>

Select AI:
<select id="pick"></select>

Bet:
<input id="bet" type="number" value="100">

<div id="odds"></div>

<button onclick="startRace()">START RACE</button>
</div>

<div id="announcer"></div>

<script>
const canvas = document.getElementById("race");
const ctx = canvas.getContext("2d");
const announcer = document.getElementById("announcer");
const balEl = document.getElementById("bal");
const oddsBox = document.getElementById("odds");
const pick = document.getElementById("pick");

let balance = 1000;
let racing = false;
let camX = 0;
const finish = 2600;
let lastLeader = -1;

const botData = [
 { name:"NEON-X", color:"#00ffff", overclock:0.6 },
 { name:"GOLDCORE", color:"#ffd700", overclock:0.5 },
 { name:"REDSHIFT", color:"#ff4444", overclock:0.4 },
 { name:"PHANTOM AI", color:"#ff55ff", overclock:0.7 },
 { name:"OBSIDIAN", color:"#888888", overclock:0.3 },
 { name:"SOLARFLUX", color:"#ff8800", overclock:0.55 }
];

const bots = [];

botData.forEach((b,i)=>{
  bots.push({
    ...b,
    id:i,
    x:0,
    y:70+i*50,
    speed:1.8+Math.random()*1.4,
    heat:100+Math.random()*60,
    rating:0,
    frame:0,
    finished:false
  });
  pick.innerHTML += `<option value="${i}">${b.name}</option>`;
});

function calcOdds(){
  let total=0;
  bots.forEach(b=>{
    b.rating=b.speed*b.heat;
    total+=b.rating;
  });
  oddsBox.innerHTML="<b>üìä AI ODDS</b><br>";
  bots.forEach(b=>{
    b.odds=(total/b.rating).toFixed(2);
    oddsBox.innerHTML+=`${b.name}: ${b.odds}x<br>`;
  });
}
calcOdds();

function announce(t){ announcer.textContent=t; }

function drawBot(b){
  const x=b.x-camX+80;
  const y=b.y;
  const pulse=Math.sin(b.frame*0.3)*6;

  ctx.save();
  ctx.translate(x,y);

  ctx.shadowColor=b.color;
  ctx.shadowBlur=20;

  // energy ring
  ctx.strokeStyle=b.color;
  ctx.lineWidth=3;
  ctx.beginPath();
  ctx.arc(0,0,22+pulse*0.3,0,Math.PI*2);
  ctx.stroke();

  // core
  ctx.fillStyle=b.color;
  ctx.beginPath();
  ctx.arc(0,0,14,0,Math.PI*2);
  ctx.fill();

  // thruster
  ctx.fillStyle="#ffffff";
  ctx.beginPath();
  ctx.moveTo(-14,0);
  ctx.lineTo(-26,pulse);
  ctx.lineTo(-14,-pulse);
  ctx.fill();

  ctx.restore();
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // cyber lanes
  for(let i=0;i<6;i++){
    ctx.fillStyle=i%2?"#050f2a":"#071635";
    ctx.fillRect(0,i*60+40,canvas.width,40);
  }

  // finish line
  ctx.fillStyle="#fff";
  ctx.fillRect(finish-camX,0,6,canvas.height);

  bots.forEach(drawBot);
}

function update(){
  let lead=0, leader=null;

  bots.forEach(b=>{
    if(b.finished) return;

    let pace=b.speed;
    if(b.heat<40) pace*=0.7;

    if(Math.random()<b.overclock*0.02){
      pace+=2;
      announce(`‚ö° ${b.name} OVERCLOCKS!`);
    }

    b.x+=pace;
    b.heat-=0.18;
    b.frame++;

    if(b.x>lead){
      lead=b.x;
      leader=b;
    }

    if(b.x>=finish){
      b.finished=true;
      if(racing) finishRace(b);
    }
  });

  if(leader && leader.id!==lastLeader){
    announce(`${leader.name} takes the lead!`);
    lastLeader=leader.id;
  }

  camX=lead-160;
}

function loop(){
  if(!racing) return;
  update();
  draw();
  requestAnimationFrame(loop);
}

function startRace(){
  if(racing) return;
  const bet=+document.getElementById("bet").value;
  if(bet<=0||bet>balance) return;

  balance-=bet;
  balEl.textContent=balance;

  bots.forEach(b=>{
    b.x=0;
    b.heat=100+Math.random()*60;
    b.finished=false;
  });

  lastLeader=-1;
  racing=true;
  announce("ü§ñ AI SYSTEMS ONLINE‚Ä¶ RACE START!");
  loop();
}

function finishRace(winner){
  racing=false;
  const bet=+document.getElementById("bet").value;
  const choice=+pick.value;

  if(winner.id===choice){
    const payout=Math.floor(bet*winner.odds);
    balance+=payout;
    announce(`üèÜ ${winner.name} DOMINATES! +$${payout}`);
  }else{
    announce(`‚ùå ${winner.name} wins the race.`);
  }

  balEl.textContent=balance;
  calcOdds();
}
</script>

</body>
</html>
