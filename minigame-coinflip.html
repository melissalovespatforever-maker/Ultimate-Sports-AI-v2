<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Soccer Mini-Game</title>
<style>
  body { font-family: sans-serif; display:flex; flex-direction:column; align-items:center; background:#7ec850; margin:0; }
  h1 { margin:10px 0; }
  canvas { background:#3a7d34; border:3px solid #fff; border-radius:10px; margin-top:10px; }
  #scoreboard { margin-top:10px; font-size:18px; color:#fff; }
</style>
</head>
<body>

<h1>Soccer Mini-Game</h1>
<canvas id="gameCanvas" width="500" height="400"></canvas>
<div id="scoreboard">Score: 0 | Time: 30s</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

const player = { x: 230, y: 350, width: 40, height: 40, speed: 5 };
const ball = { x: 0, y: 0, width: 20, height: 20, visible:false };
const goal = { x: 150, y: 0, width: 200, height: 20 };
let score = 0;
let timeLeft = 30;
let keys = {};

// --- Controls ---
document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

// --- Game Loop ---
function gameLoop(){
  update();
  draw();
  requestAnimationFrame(gameLoop);
}

// --- Update ---
function update(){
  // Player movement
  if(keys["ArrowLeft"] && player.x>0) player.x -= player.speed;
  if(keys["ArrowRight"] && player.x+player.width<canvas.width) player.x += player.speed;
  if(keys["ArrowUp"] && player.y>0) player.y -= player.speed;
  if(keys["ArrowDown"] && player.y+player.height<canvas.height) player.y += player.speed;

  // Shoot ball
  if(keys[" "] && !ball.visible){
    ball.x = player.x + player.width/2 - ball.width/2;
    ball.y = player.y;
    ball.visible = true;
  }

  // Move ball
  if(ball.visible){
    ball.y -= 8;
    // Check if goal
    if(ball.y <= goal.y + goal.height && ball.x + ball.width >= goal.x && ball.x <= goal.x + goal.width){
      score++;
      ball.visible = false;
      ball.y = 0;
    }
    // Out of screen
    if(ball.y < 0) ball.visible = false;
  }
}

// --- Draw ---
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  // Draw goal
  ctx.fillStyle = "#ffec42";
  ctx.fillRect(goal.x, goal.y, goal.width, goal.height);

  // Draw player
  ctx.fillStyle = "#0055ff";
  ctx.fillRect(player.x, player.y, player.width, player.height);

  // Draw ball
  if(ball.visible){
    ctx.fillStyle = "#ffffff";
    ctx.fillRect(ball.x, ball.y, ball.width, ball.height);
  }
}

// --- Timer ---
const timer = setInterval(()=>{
  timeLeft--;
  document.getElementById("scoreboard").innerText = `Score: ${score} | Time: ${timeLeft}s`;
  if(timeLeft<=0){
    clearInterval(timer);
    alert(`Time's up! You scored ${score} goals!`);
    // Reset game
    score=0;
    timeLeft=30;
    player.x=230; player.y=350;
  }
},1000);

// --- Start game ---
gameLoop();
</script>

</body>
</html>
