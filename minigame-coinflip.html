<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI BOT RACING ‚Äì MAX GRAPHICS</title>

<style>
html,body{
  margin:0;
  background:#000;
  overflow:hidden;
  font-family:Arial, sans-serif;
}
#ui{
  position:absolute;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(10,20,40,0.85);
  padding:12px;
  border-radius:14px;
  color:#0ff;
  box-shadow:0 0 30px #0ff;
}
button{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:none;
  background:linear-gradient(135deg,#00ffff,#0088ff);
  font-weight:bold;
}
</style>
</head>

<body>

<canvas id="c"></canvas>

<div id="ui">
Balance: $<span id="bal">1000</span><br>
<select id="pick"></select><br>
Bet: <input id="bet" type="number" value="100"><br>
<button onclick="start()">START RACE</button>
<div id="log"></div>
</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
resize();
window.onresize = resize;

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}

let balance = 1000;
const balEl = document.getElementById("bal");
const log = document.getElementById("log");
const pick = document.getElementById("pick");

const finish = 6000;
let camX = 0;
let racing = false;

const bots = [
 {name:"NEON-X",color:"#00ffff",over:0.6},
 {name:"PHANTOM",color:"#ff55ff",over:0.75},
 {name:"GOLDCORE",color:"#ffd700",over:0.5},
 {name:"REDSHIFT",color:"#ff3333",over:0.45},
 {name:"OBSIDIAN",color:"#aaaaaa",over:0.35}
];

bots.forEach((b,i)=>{
  b.x=0;
  b.y=canvas.height*0.35+i*70;
  b.speed=2+Math.random()*1.5;
  b.heat=120;
  b.frame=0;
  b.finished=false;
  b.particles=[];
  pick.innerHTML+=`<option value="${i}">${b.name}</option>`;
});

function announce(t){ log.textContent=t; }

function spawnParticle(b){
  b.particles.push({
    x:b.x,
    y:b.y,
    vx:-Math.random()*6-2,
    vy:(Math.random()-0.5)*3,
    life:30,
    size:4+Math.random()*4
  });
}

function drawBot(b){
  const sx = b.x - camX + 200;
  const sy = b.y;
  const pulse = Math.sin(b.frame*0.3)*8;
  const scale = 1 + Math.min(b.speed/7,0.35);

  ctx.save();
  ctx.translate(sx,sy);
  ctx.scale(scale,scale);

  ctx.globalCompositeOperation="lighter";

  // glow aura
  const g = ctx.createRadialGradient(0,0,10,0,0,40+pulse);
  g.addColorStop(0,b.color);
  g.addColorStop(1,"transparent");
  ctx.fillStyle=g;
  ctx.beginPath();
  ctx.arc(0,0,45+pulse,0,Math.PI*2);
  ctx.fill();

  // energy rings
  for(let i=0;i<3;i++){
    ctx.strokeStyle=b.color;
    ctx.lineWidth=2;
    ctx.beginPath();
    ctx.arc(0,0,18+i*6+pulse*0.4,0,Math.PI*2);
    ctx.stroke();
  }

  // core
  ctx.fillStyle=b.color;
  ctx.beginPath();
  ctx.arc(0,0,14,0,Math.PI*2);
  ctx.fill();

  // thruster
  ctx.fillStyle="rgba(255,255,255,0.9)";
  ctx.beginPath();
  ctx.moveTo(-14,0);
  ctx.lineTo(-30+pulse,8);
  ctx.lineTo(-30-pulse,-8);
  ctx.fill();

  ctx.restore();
  ctx.globalCompositeOperation="source-over";
}

function drawParticles(b){
  b.particles.forEach(p=>{
    ctx.fillStyle=`rgba(0,255,255,${p.life/30})`;
    ctx.beginPath();
    ctx.arc(p.x-camX+200,p.y,p.size,0,Math.PI*2);
    ctx.fill();
  });
}

function updateParticles(b){
  b.particles.forEach(p=>{
    p.x+=p.vx;
    p.y+=p.vy;
    p.life--;
    p.size*=0.95;
  });
  b.particles=b.particles.filter(p=>p.life>0);
}

function drawTrack(){
  ctx.fillStyle="#030914";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // grid
  ctx.strokeStyle="rgba(0,255,255,0.08)";
  for(let i=0;i<canvas.width;i+=60){
    ctx.beginPath();
    ctx.moveTo(i-camX%60,0);
    ctx.lineTo(i-camX%60,canvas.height);
    ctx.stroke();
  }

  // lanes
  for(let i=0;i<bots.length;i++){
    ctx.fillStyle=i%2?"#040d20":"#061634";
    ctx.fillRect(0,bots[i].y-30,canvas.width,60);
  }

  // finish
  ctx.fillStyle="#fff";
  ctx.fillRect(finish-camX+200,0,8,canvas.height);
}

function update(){
  let lead=0,leader=null;

  bots.forEach(b=>{
    if(b.finished) return;

    let pace=b.speed;
    if(b.heat<40) pace*=0.7;

    if(Math.random()<b.over*0.02){
      pace+=3;
      announce(`‚ö° ${b.name} OVERCLOCK!`);
    }

    b.x+=pace;
    b.heat-=0.2;
    b.frame++;

    spawnParticle(b);
    updateParticles(b);

    if(b.x>lead){lead=b.x;leader=b;}

    if(b.x>=finish){
      b.finished=true;
      finishRace(b);
    }
  });

  camX += (lead-camX-300)*0.08;
}

function draw(){
  drawTrack();
  bots.forEach(b=>drawParticles(b));
  bots.forEach(b=>drawBot(b));
}

function loop(){
  if(!racing) return;
  update();
  draw();
  requestAnimationFrame(loop);
}

function start(){
  if(racing) return;
  const bet=+betInput.value;
  if(bet>balance||bet<=0) return;

  balance-=bet;
  balEl.textContent=balance;

  bots.forEach(b=>{
    b.x=0;
    b.heat=120;
    b.finished=false;
    b.particles=[];
  });

  racing=true;
  announce("ü§ñ AI SYSTEMS ONLINE");
  loop();
}

function finishRace(w){
  racing=false;
  const bet=+betInput.value;
  if(+pick.value===bots.indexOf(w)){
    const win=bet*3;
    balance+=win;
    announce(`üèÜ ${w.name} WINS +$${win}`);
  }else{
    announce(`${w.name} wins the race`);
  }
  balEl.textContent=balance;
}
</script>

</body>
</html>
