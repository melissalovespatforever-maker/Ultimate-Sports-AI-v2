<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ultimate Plinko ðŸ˜Ž</title>
<style>
body {
  background:radial-gradient(circle at top, #0a0f2a, #02030a);
  color:white;
  font-family:Arial;
  text-align:center;
}
canvas {
  display:block;
  margin:20px auto;
  border-radius:16px;
  box-shadow:0 0 40px #00ffff44;
}
.panel {
  background:#0e1433;
  width:360px;
  margin:auto;
  padding:14px;
  border-radius:14px;
}
button, input {
  width:90%;
  padding:8px;
  margin-top:6px;
}
.upgrades {
  font-size:13px;
  color:#00ffff;
}
</style>
</head>
<body>

<h2>ðŸŸ£ Ultimate Plinko ðŸ˜Ž</h2>

<canvas id="game" width="420" height="560"></canvas>

<div class="panel">
ðŸ’° Balance: <span id="bal">1000</span><br>
Bet:
<input id="bet" type="number" value="50"><br>
<button onclick="drop()">DROP BALL</button>

<div class="upgrades">
  ðŸ›’ Upgrades:<br>
  <button onclick="buy('double')">Double Balls ($200)</button>
  <button onclick="buy('smart')">Smart Ball ($150)</button>
  <button onclick="buy('action')">Action Ball ($250)</button>
</div>
</div>

<div id="msg"></div>

<script>
const c = document.getElementById("game");
const ctx = c.getContext("2d");

let balance = 1000;
let balls = [];
let pegs = [];
let secretUnlocked = false;

const upgrades = {
  double:false,
  smart:false,
  action:false
};

const gravity = 0.35;

// -------- TRIANGLE PEG BOARD --------
const rows = 7;
for (let r = 0; r < rows; r++) {
  const count = r + 1;
  const spacing = 50;
  const startX = c.width/2 - (count-1)*spacing/2;

  for (let i = 0; i < count; i++) {
    pegs.push({
      x: startX + i * spacing,
      y: 80 + r * 55,
      r: 6,
      glow: Math.random()*10,
      moving: Math.random() < 0.15,
      dir: Math.random()<0.5?-1:1
    });
  }
}

// -------- BOTTOM SLOTS --------
let slots = [-1, -0.5, 1, 2, 5, 2, 1, -0.5, -1];

// -------- DRAW --------
function draw() {
  ctx.clearRect(0,0,c.width,c.height);

  // Pegs
  pegs.forEach(p=>{
    p.glow +=
      
